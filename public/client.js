// Generated by CoffeeScript 1.3.3
(function() {
  var socket;

  socket = io.connect('/');

  socket.on('ready for chat', function() {
    console.log('ready received');
    $('#please-wait').hide();
    return $('#chat-window').show();
  });

  socket.on('please wait', function() {
    console.log('ready received');
    $('#please-wait').show();
    return $('#chat-window').hide();
  });

  socket.on('message_rec', function(message) {
    return $('#messages').append($("<div>" + message + "</div>"));
  });

  $(function() {
    var sendMessage;
    sendMessage = function(event) {
      var messageBox;
      messageBox = $('input[name=message]');
      socket.emit("message_sent", messageBox.val());
      messageBox.val('');
      return false;
    };
    $('#send-message').click(sendMessage);
    return $('form[name=messages]').submit(sendMessage);
  });

}).call(this);
